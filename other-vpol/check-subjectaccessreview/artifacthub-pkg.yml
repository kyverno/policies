name: check-subjectaccessreview
version: 1.0.0
displayName: Check SubjectAccessReview
description: >-
  In some cases a validation check for one type of resource may need to take into consideration the requesting user's permissions on a different type of resource. Rather than parsing through all Roles and/or ClusterRoles to check if these permissions are held, Kyverno can perform a SubjectAccessReview request to the Kubernetes API server and have it figure out those permissions. This policy illustrates how to perform a POST request to the API server to subject a SubjectAccessReview for a user creating/updating a ConfigMap. It is intended to be used as a component in a more functional rule.
install: |-
  ```shell
  kubectl apply -f https://raw.githubusercontent.com/kyverno/policies/main/other-vpol/check-subjectaccessreview/check-subjectaccessreview.yaml
  ```
keywords:
  - kyverno
  - Other
  - ValidatingPolicy
readme: |
  In some cases a validation check for one type of resource may need to take into consideration the requesting user's permissions on a different type of resource. Rather than parsing through all Roles and/or ClusterRoles to check if these permissions are held, Kyverno can perform a SubjectAccessReview request to the Kubernetes API server and have it figure out those permissions. This policy illustrates how to perform a POST request to the API server to subject a SubjectAccessReview for a user creating/updating a ConfigMap. It is intended to be used as a component in a more functional rule.

  Refer to the documentation for more details on Kyverno annotations: https://artifacthub.io/docs/topics/annotations/kyverno/
annotations:
  kyverno/category: "Other"
  kyverno/kubernetesVersion: "1.30"
  kyverno/subject: "SubjectAccessReview"
digest: e6a8073f6ee2607caffece145bfe4a9c1ee1999c06737a1af2d5fdcf4d782c48
createdAt: "2025-12-15T12:37:33Z"
