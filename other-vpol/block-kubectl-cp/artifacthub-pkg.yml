name: block-kubectl-cp
version: 1.0.0
displayName: Block "kubectl cp" by Pod Label in ValidatingPolicy
description: >-
  The `kubectl cp` command allows copying files between a local machine and a Pod's container, which may introduce security risks. This policy blocks the use of the `kubectl cp` command for Pods with the label `block-kubectl-cp=true`, preventing unauthorized data transfers.
install: |-
  ```shell
  kubectl apply -f https://raw.githubusercontent.com/kyverno/policies/main/other-vpol/block-kubectl-cp/block-kubectl-cp.yaml
  ```shell
  kubectl apply -f https://raw.githubusercontent.com/kyverno/policies/main/other-vpol/block-kubectl-cp/block-kubectl-cp.yaml
keywords:
  - kyverno
  - kubectl
  - other
  - ValidatingPolicy
readme: |
  The kubectl cp command allows copying files between a local machine and a Pod's container, but it can be misused for unauthorized data transfers. 
  This policy blocks the kubectl cp command for Pods labeled with block-kubectl-cp=true.
annotations:
  kyverno/category: "Sample"
  kyverno/kubernetesVersion: "1.30"
  kyverno/subject: "Pod"
digest: 01a721b4a1ef2584aef21bcfbafa392ec3b6181054b331f11e570b146a0a9c6d
createdAt: "2025-12-02T13:59:47Z"
