name: require-replicas-allow-disruption
version: 1.0.0
displayName: PodDisruptionBudget maxUnavailable Non-Zero with Deployments
createdAt: "2024-03-03T16:54:00.000Z"
description: >-
  Existing PodDisruptionBudgets can apply to all future matching Pod controllers.
  If the minAvailable field is defined for such matching PDBs and is lower than the
  replica count of a new Deployment, then availability could be negatively impacted.
  This policy specifies that Deployment replicas exceed the minAvailable value of all
  matching PodDisruptionBudgets which specify minAvailable as a number and not percentage.
install: |-
  ```shell
  kubectl apply -f https://raw.githubusercontent.com/kyverno/policies/main/other/require-replicas-allow-disruption/require-replicas-allow-disruption.yaml
  ```
keywords:
  - kyverno
  - Sample
readme: |
  Existing PodDisruptionBudgets can apply to all future matching Pod controllers.
  If the minAvailable field is defined for such matching PDBs and is lower than the
  replica count of a new Deployment, then availability could be negatively impacted.
  This policy specifies that Deployment replicas exceed the minAvailable value of all
  matching PodDisruptionBudgets which specify minAvailable as a number and not percentage.
  
  Refer to the documentation for more details on Kyverno annotations: https://artifacthub.io/docs/topics/annotations/kyverno/
annotations:
  kyverno/category: "Other"
  kyverno/kubernetesVersion: "1.27"
  kyverno/subject: "PodDisruptionBudget,Deployment"
digest: e4495c645b7999a75ac13bf56357cdf813824afcd5931b6cb4b87cab4f2bac68
