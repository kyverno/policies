name: add-volume-deployment
version: 1.0.0
displayName: Add Volume to Deployment
createdAt: "2023-04-10T20:30:02.000Z"
description: >-
  Some Kubernetes applications like HashiCorp Vault must perform some modifications to resources in order to invoke their specific functionality. Often times, that functionality is controlled by the presence of a label or specific annotation. This policy, based on HashiCorp Vault, adds a volume and volumeMount to a Deployment if there is an annotation called "vault.k8s.corp.net/inject=enabled" present.
install: |-
  ```shell
  kubectl apply -f https://raw.githubusercontent.com/kyverno/policies/main/other/add-volume-deployment/add-volume-deployment.yaml
  ```
keywords:
  - kyverno
  - Sample
readme: |
  Some Kubernetes applications like HashiCorp Vault must perform some modifications to resources in order to invoke their specific functionality. Often times, that functionality is controlled by the presence of a label or specific annotation. This policy, based on HashiCorp Vault, adds a volume and volumeMount to a Deployment if there is an annotation called "vault.k8s.corp.net/inject=enabled" present.
  
  Refer to the documentation for more details on Kyverno annotations: https://artifacthub.io/docs/topics/annotations/kyverno/
annotations:
  kyverno/category: "Sample"
  kyverno/subject: "Deployment, Volume"
digest: 1ca266802c5fc172ac5c6852311a3a01b17077c37c9d9eb8a5d8916fc64ad5f0
